@using VRT.Resume.Application.Persons.Queries.GetPersonExperience;
@model PersonExperienceInListVM[]

@{
    var exp = Model == null
        ? new PersonExperienceInListVM[0]
        : Model.OrderByDescending(o=>o.FromDate).ToArray();

    var editButtonLabel = Html.GetLabel(LabelNames.ButtonEditData);
    var deleteButtonLabel = Html.GetLabel(LabelNames.ButtonDelete);
}

<div class="text-right mt-3 d-flex justify-content-between  ">
    <span class="h4 text-muted">@Html.GetLabel(TabNames.WorkExp)</span>
    <a class="btn btn-light btn-outline-secondary"
       title="@Html.GetLabel(LabelNames.ButtonAddNewExp)"
       href="@(Url.Action("Add", "PersonExp"))">
        <span class="mr-auto">+</span>
    </a>
</div>

    
<div class="d-flex flex-wrap">
    @foreach (var m in exp)
    {
        <div class="card mr-2 mb-2" style="width:700px">
            <div class="card-body m-0">
                <div class="d-flex text-nowrap border-bottom mb-2 mr-auto align-content-around">
                    <span class="h4 text-wrap flex-grow-1">@m.Position</span>                    
                    @Html.Partial("_EditDeleteToolbar", new EditDeleteToolbarData("PersonExp", m.ExperienceId))<br />                                        
                </div>
                <span class="h5">@m.CompanyName</span><br />
                <span class="h6">@m.Location</span><br />
                <span class="h6">@m.AsTimeRange()</span><br />

                <ul class="mt-3 border-top mb-0">
                    @foreach(var d in m.Duties)
                    {
                        <li class="text-wrap ml-3" 
                            style="margin-bottom: 0.3em; list-style-type: disc;">
                            <span class="text-wrap">@d.Name</span>
                        </li>
                    }
                </ul>
            </div>
        </div>
    }
</div>
